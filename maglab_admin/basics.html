<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SysAdmin basics &#8212; Maglab Admin and Development Guide 0.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The Servers" href="servers.html" />
    <link rel="prev" title="Maglab SysAdmin Guide" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Maglab Admin and Development Guide</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Sections <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Maglab SysAdmin Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">SysAdmin basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="servers.html">The Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="accounts.html">NIS and Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="websites.html">Websites</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Server Monitoring</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../maglab_dev/index.html">Maglab Development Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/overview.html">Development Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/DAA/development.html">The Digital Ageing Atlas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/HAGR/development.html">HAGR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/LibAge/development.html">LibAge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/Genomics/development.html">Genome and Transcriptome Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/General/general_setup.html">Apache Installation (Mac)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/General/mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/General/setting_up_django_projects.html">Python Django Set-up</a></li>
<li class="toctree-l2"><a class="reference internal" href="../maglab_dev/General/version_control.html">Version Control</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">SysAdmin basics</a><ul>
<li><a class="reference internal" href="#logging-on">Logging on</a><ul>
<li><a class="reference internal" href="#alfred-parker-and-winston">Alfred, Parker and Winston</a></li>
<li><a class="reference internal" href="#larder">Larder</a></li>
<li><a class="reference internal" href="#maglab-and-maglab2">Maglab and Maglab2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#starting-restarting-services">Starting/restarting services</a></li>
<li><a class="reference internal" href="#adding-deleting-users">Adding/deleting users</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="index.html" title="Previous Chapter: Maglab SysAdmin Guide"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Maglab SysAdmin Guide</span>
    </a>
  </li>
  <li>
    <a href="servers.html" title="Next Chapter: The Servers"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">The Servers &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/maglab_admin/basics.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="sysadmin-basics">
<h1>SysAdmin basics<a class="headerlink" href="#sysadmin-basics" title="Permalink to this headline">¶</a></h1>
<p>This section of the guide with give a brief overview of common sysadmin topics such as logging on, restarting applications etc. This not only will help you get up to speed it will also give an insight into how everything is run.</p>
<div class="section" id="logging-on">
<h2>Logging on<a class="headerlink" href="#logging-on" title="Permalink to this headline">¶</a></h2>
<p>All of the servers are accessed through SSH. There are no external controls panels, everything is done at the command line.</p>
<div class="section" id="alfred-parker-and-winston">
<h3>Alfred, Parker and Winston<a class="headerlink" href="#alfred-parker-and-winston" title="Permalink to this headline">¶</a></h3>
<p>You can only log onto Parker and Winston through Alfred. This is because there is only a single network connection between them with Alfred acting as the gateway. First, log onto Alfred:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="n">username</span><span class="nd">@alfred</span><span class="o">.</span><span class="n">liv</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">uk</span>
</pre></div>
</div>
<p>Then you can log onto any of the other servers using the hostname e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="n">parker</span>
</pre></div>
</div>
</div>
<div class="section" id="larder">
<h3>Larder<a class="headerlink" href="#larder" title="Permalink to this headline">¶</a></h3>
<p>There are two routes to larder, you can either log on via direct ip address (see <a class="reference internal" href="servers/larder.html"><span class="doc">Larder</span></a>) or by logging on to Alfred and using the hostname:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="n">larder</span>
</pre></div>
</div>
</div>
<div class="section" id="maglab-and-maglab2">
<h3>Maglab and Maglab2<a class="headerlink" href="#maglab-and-maglab2" title="Permalink to this headline">¶</a></h3>
<p>The Maglab external server(s) can be logged on via any of the domain names associated with it e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="n">username</span><span class="nd">@ageing</span><span class="o">-</span><span class="nb">map</span><span class="o">.</span><span class="n">org</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="starting-restarting-services">
<h2>Starting/restarting services<a class="headerlink" href="#starting-restarting-services" title="Permalink to this headline">¶</a></h2>
<p>All of the services and python-based websites are controlled by upstart. This allows adminsitrators to quickly start and restart services based on their name.</p>
<p>The configuration for these services is stored in <code class="docutils literal"><span class="pre">/etc/init/</span></code> or <code class="docutils literal"><span class="pre">/etc/init.d/</span></code>. See the <a class="reference internal" href="websites.html"><span class="doc">Websites</span></a> documentation for more details of configuration file locations.</p>
<p>To restart a service you need to know its name. The service name is the same as the name of the configuration file that controls it so a file at <code class="docutils literal"><span class="pre">/etc/init/daa.conf</span></code> would lead to a service named <code class="docutils literal"><span class="pre">daa</span></code>. You can then use the <code class="docutils literal"><span class="pre">services</span></code> command to start/stop/restart:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">service</span> <span class="n">daa</span> <span class="n">restart</span>
</pre></div>
</div>
<p>You are required to have sudo permissions to run the command otherwise nothing will happen.</p>
</div>
<div class="section" id="adding-deleting-users">
<h2>Adding/deleting users<a class="headerlink" href="#adding-deleting-users" title="Permalink to this headline">¶</a></h2>
<p>All of the servers use Ubuntu so searching for adding users should provide you with detailed documentation. The basics are as follows:</p>
<p>Add a user (with a home directory on Larder): <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">adduser</span> <span class="pre">--home</span> <span class="pre">/base/username</span> <span class="pre">username</span></code></p>
<p>Delete a user: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">userdel</span> <span class="pre">username</span></code></p>
<p>If you are using Alfred, Parker or Winston please see the <a class="reference internal" href="accounts.html"><span class="doc">NIS and Accounts</span></a> documentation as this requires more than just adding/deleting a user.</p>
<p>Normally users are added to Larder, as this is the NIS master server so the user will then propogate to alfred, parker and winston.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, Daniel Thornton.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>